/*********************************************************************
	微 雪 电 子   WaveShare   http://www.waveShare.net            	
		                                                        
目    的:   建立AT24CXX操作库
	
目标系统:   基于AVR单片机
		                                                                
应用软件:   ICCAVR
		                                                                
版    本:   Version 1.0                                                
		                                                                
圆版时间:   2005-06-25
	
开发人员:   SEE

说    明:   若用于商业用途，请保留此段文字或注明代码来源
	
	深 圳 市 微 雪 电 子 有 限 公 司 保 留 所 有 的 版 权     
*********************************************************************/

/*01010101010101010101010101010101010101010101010101010101010101010101
----------------------------------------------------------------------
版本更新记录：

----------------------------------------------------------------------
入口参数说明：
	//#define RD_DADR 0xA1		//器件地址：A2 A1 A0 = 0 0 0
	//#define WR_DADR 0xA0		//器件地址：A2 A1 A0 = 0 0 0

----------------------------------------------------------------------
待定参数说明：

----------------------------------------------------------------------	
对外变量说明：

----------------------------------------------------------------------
对外函数说明：

----------------------------------------------------------------------
10101010101010101010101010101010101010101010101010101010101010101010*/

#ifndef	AT24CXX_H
#define	AT24CXX_H

#include "D:\ICC_H\CmmICC.H"
#include "D:\ICC_H\I2C.H"

//器件地址：A0 A1 A2 = 0 0 0
#ifndef WR_DADR 
	#define WR_DADR		0xA0	//write device-address 
#endif
#ifndef RD_DADR 
	#define RD_DADR		0xA1	//read device-address
#endif

#define AT24CXX_ERR		0
#define AT24CXX_CRR		1

/*--------------------------------------------------------------------
函数名称：AT24CXX写入一个数据
函数功能：
注意事项：
提示说明：
输    入：
返    回：
--------------------------------------------------------------------*/
bool AT24CXX_Write(uint8 wordAdr,uint8 dat) 
{
	if( I2C_Write(WR_DADR, wordAdr, dat)==I2C_ERR )
		return AT24CXX_ERR;
	return AT24CXX_CRR;
}
/*--------------------------------------------------------------------
函数名称：AT24CXX读出一个数据
函数功能：
注意事项：
提示说明：
输    入：
返    回：
--------------------------------------------------------------------*/
bool AT24CXX_Read(uint8 wordAdr,uint8 *pRdDat) 
{
	if( I2C_Read(WR_DADR, wordAdr, RD_DADR, pRdDat)==I2C_ERR )
		return AT24CXX_ERR;
	return AT24CXX_CRR;
}

#endif
